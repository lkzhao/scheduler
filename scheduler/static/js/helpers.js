(function() {
  var Preview, a, bold, button, div, h1, h2, h3, h4, h5, h6, icon, input, p, span, strong, table, tbody, td, th, thead, tr;

  a = function() {
    var _ref;
    return (_ref = React.DOM).a.apply(_ref, arguments);
  };

  bold = function() {
    var _ref;
    return (_ref = React.DOM).b.apply(_ref, arguments);
  };

  button = function() {
    var _ref;
    return (_ref = React.DOM).button.apply(_ref, arguments);
  };

  div = function() {
    var _ref;
    return (_ref = React.DOM).div.apply(_ref, arguments);
  };

  h1 = function() {
    var _ref;
    return (_ref = React.DOM).h1.apply(_ref, arguments);
  };

  h2 = function() {
    var _ref;
    return (_ref = React.DOM).h2.apply(_ref, arguments);
  };

  h3 = function() {
    var _ref;
    return (_ref = React.DOM).h3.apply(_ref, arguments);
  };

  h4 = function() {
    var _ref;
    return (_ref = React.DOM).h4.apply(_ref, arguments);
  };

  h5 = function() {
    var _ref;
    return (_ref = React.DOM).h5.apply(_ref, arguments);
  };

  h6 = function() {
    var _ref;
    return (_ref = React.DOM).h6.apply(_ref, arguments);
  };

  icon = function() {
    var _ref;
    return (_ref = React.DOM).i.apply(_ref, arguments);
  };

  input = function() {
    var _ref;
    return (_ref = React.DOM).input.apply(_ref, arguments);
  };

  p = function() {
    var _ref;
    return (_ref = React.DOM).p.apply(_ref, arguments);
  };

  span = function() {
    var _ref;
    return (_ref = React.DOM).span.apply(_ref, arguments);
  };

  table = function() {
    var _ref;
    return (_ref = React.DOM).table.apply(_ref, arguments);
  };

  tbody = function() {
    var _ref;
    return (_ref = React.DOM).tbody.apply(_ref, arguments);
  };

  td = function() {
    var _ref;
    return (_ref = React.DOM).td.apply(_ref, arguments);
  };

  th = function() {
    var _ref;
    return (_ref = React.DOM).th.apply(_ref, arguments);
  };

  thead = function() {
    var _ref;
    return (_ref = React.DOM).thead.apply(_ref, arguments);
  };

  tr = function() {
    var _ref;
    return (_ref = React.DOM).tr.apply(_ref, arguments);
  };

  strong = function() {
    var _ref;
    return (_ref = React.DOM).strong.apply(_ref, arguments);
  };

  window.uwapi = {
    courseInfo: window.data.courseInfo || {},
    getCourse: function(subject, catalog_number, callback) {
      var course, that;
      course = {};
      that = this;
      return $.getJSON("/course/" + subject + "/" + catalog_number, function(course) {
        if (!course) {
          callback(null);
        }
        console.log(course);
        if (course.prerequisites && course.prerequisites.substr(0, 7) === "Prereq:") {
          course.prerequisites = course.prerequisites.substr(8);
        }
        course.name = getCourseName(course);
        that.courseInfo[course.name] = course;
        return callback(course.name);
      }).fail(function() {
        return callback(null);
      });
    },
    getInfo: function(course) {
      return this.courseInfo[getCourseName(course)];
    }
  };

  window.getCourseName = function(obj) {
    return obj.subject + obj.catalog_number;
  };

  window.calculateTerm = function(startYear, startTerm, i) {
    startYear = startYear + Math.floor((startTerm + i) / 3);
    startTerm = (startTerm + i) % 3;
    switch (startTerm) {
      case 0:
        return startYear + " Winter";
      case 1:
        return startYear + " Spring";
      case 2:
        return startYear + " Fall";
    }
  };

  window.getTermNameArray = function(terms_offered) {
    return terms_offered.map(function(i) {
      switch (i) {
        case "F":
          return "Fall";
        case "W":
          return "Winter";
        default:
          return "Spring";
      }
    });
  };

  Preview = React.createClass({
    getInitialState: function() {
      return {
        top: 0,
        left: 0,
        html: "",
        show: false
      };
    },
    componentDidMount: function() {
      $(window).on('mousemove', this.handleMouseMove);
      window.showPreview = this.showPreview;
      window.showCoursePreview = this.showCoursePreview;
      return window.hidePreview = this.hidePreview;
    },
    componentWillUnmount: function() {
      return $(window).off('mousemove', this.handleMouseMove);
    },
    handleMouseMove: function(e) {
      if (this.state.show) {
        return this.setState({
          top: e.clientY + 20,
          left: e.clientX + 15
        });
      }
    },
    showCoursePreview: (function(_this) {
      return function(course) {
        var html;
        course = uwapi.getInfo(course);
        html = div(null, h3(null, strong(null, course.name), " - ", course.title), p(null, course.description), p(null, strong(null, "Antireq: "), course.antirequisite || "none"), p(null, strong(null, "Prereq: "), course.prerequisites || "none"), p(null, strong(null, "Terms offered: "), getTermNameArray(course.terms_offered).join(", ")));
        return _this.showPreview(html);
      };
    })(this),
    showPreview: function(data) {
      return this.setState({
        html: data,
        show: true
      });
    },
    hidePreview: function() {
      return this.setState({
        show: false
      });
    },
    render: function() {
      return div({
        className: "preview " + (this.state.show ? " show" : ""),
        style: {
          top: this.state.top,
          left: this.state.left
        }
      }, this.state.html);
    }
  });

  $(function() {
    $('body').append($("<div id='preview'></div>"));
    return React.renderComponent(Preview(null), $("#preview").get(0));
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,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Q0FBQSxDQUFFLFNBQUEsR0FBQTtBQUNBLElBQUEsQ0FBQSxDQUFFLE1BQUYsQ0FBUyxDQUFDLE1BQVYsQ0FBaUIsQ0FBQSxDQUFFLDBCQUFGLENBQWpCLENBQUEsQ0FBQTtXQUNBLEtBQUssQ0FBQyxlQUFOLENBQXNCLE9BQUEsQ0FBUSxJQUFSLENBQXRCLEVBQXFDLENBQUEsQ0FBRSxVQUFGLENBQWEsQ0FBQyxHQUFkLENBQWtCLENBQWxCLENBQXJDLEVBRkE7RUFBQSxDQUFGLENBL0dBLENBQUE7QUFBQSIsImZpbGUiOiJoZWxwZXJzLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiYSA9IC0+IFJlYWN0LkRPTS5hIGFyZ3VtZW50cy4uLlxuYm9sZCA9IC0+IFJlYWN0LkRPTS5iIGFyZ3VtZW50cy4uLlxuYnV0dG9uID0gLT4gUmVhY3QuRE9NLmJ1dHRvbiBhcmd1bWVudHMuLi5cbmRpdiA9IC0+IFJlYWN0LkRPTS5kaXYgYXJndW1lbnRzLi4uXG5oMSA9IC0+IFJlYWN0LkRPTS5oMSBhcmd1bWVudHMuLi5cbmgyID0gLT4gUmVhY3QuRE9NLmgyIGFyZ3VtZW50cy4uLlxuaDMgPSAtPiBSZWFjdC5ET00uaDMgYXJndW1lbnRzLi4uXG5oNCA9IC0+IFJlYWN0LkRPTS5oNCBhcmd1bWVudHMuLi5cbmg1ID0gLT4gUmVhY3QuRE9NLmg1IGFyZ3VtZW50cy4uLlxuaDYgPSAtPiBSZWFjdC5ET00uaDYgYXJndW1lbnRzLi4uXG5pY29uID0gLT4gUmVhY3QuRE9NLmkgYXJndW1lbnRzLi4uXG5pbnB1dCA9IC0+IFJlYWN0LkRPTS5pbnB1dCBhcmd1bWVudHMuLi5cbnAgPSAtPiBSZWFjdC5ET00ucCBhcmd1bWVudHMuLi5cbnNwYW4gPSAtPiBSZWFjdC5ET00uc3BhbiBhcmd1bWVudHMuLi5cbnRhYmxlID0gLT4gUmVhY3QuRE9NLnRhYmxlIGFyZ3VtZW50cy4uLlxudGJvZHkgPSAtPiBSZWFjdC5ET00udGJvZHkgYXJndW1lbnRzLi4uXG50ZCA9IC0+IFJlYWN0LkRPTS50ZCBhcmd1bWVudHMuLi5cbnRoID0gLT4gUmVhY3QuRE9NLnRoIGFyZ3VtZW50cy4uLlxudGhlYWQgPSAtPiBSZWFjdC5ET00udGhlYWQgYXJndW1lbnRzLi4uXG50ciA9IC0+IFJlYWN0LkRPTS50ciBhcmd1bWVudHMuLi5cbnN0cm9uZyA9IC0+IFJlYWN0LkRPTS5zdHJvbmcgYXJndW1lbnRzLi4uXG5cblxuXG53aW5kb3cudXdhcGkgPSBcbiAgY291cnNlSW5mbzogd2luZG93LmRhdGEuY291cnNlSW5mb3x8e30sXG4gIGdldENvdXJzZTogKHN1YmplY3QsIGNhdGFsb2dfbnVtYmVyLCBjYWxsYmFjayktPlxuICAgIGNvdXJzZSA9IHt9XG4gICAgdGhhdCA9IHRoaXNcbiAgICAkLmdldEpTT04oXCIvY291cnNlL1wiK3N1YmplY3QrXCIvXCIrY2F0YWxvZ19udW1iZXIsIChjb3Vyc2UpLT5cbiAgICAgICAgaWYgbm90IGNvdXJzZVxuICAgICAgICAgIGNhbGxiYWNrKG51bGwpXG4gICAgICAgIGNvbnNvbGUubG9nIGNvdXJzZVxuICAgICAgICBpZiBjb3Vyc2UucHJlcmVxdWlzaXRlcyYmY291cnNlLnByZXJlcXVpc2l0ZXMuc3Vic3RyKDAsNyk9PVwiUHJlcmVxOlwiXG4gICAgICAgICAgY291cnNlLnByZXJlcXVpc2l0ZXM9Y291cnNlLnByZXJlcXVpc2l0ZXMuc3Vic3RyKDgpXG4gICAgICAgIGNvdXJzZS5uYW1lPWdldENvdXJzZU5hbWUoY291cnNlKVxuICAgICAgICB0aGF0LmNvdXJzZUluZm9bY291cnNlLm5hbWVdPWNvdXJzZVxuICAgICAgICBjYWxsYmFjayhjb3Vyc2UubmFtZSlcbiAgICApLmZhaWwoLT4gY2FsbGJhY2sobnVsbCkpXG4gIGdldEluZm86IChjb3Vyc2UpLT5cbiAgICBAY291cnNlSW5mb1tnZXRDb3Vyc2VOYW1lKGNvdXJzZSldXG5cbndpbmRvdy5nZXRDb3Vyc2VOYW1lID0gKG9iaikgLT4gXG4gIG9iai5zdWJqZWN0ICsgb2JqLmNhdGFsb2dfbnVtYmVyXG5cbndpbmRvdy5jYWxjdWxhdGVUZXJtID0gKHN0YXJ0WWVhciwgc3RhcnRUZXJtLCBpKSAtPlxuICBzdGFydFllYXIgPSBzdGFydFllYXIgKyBNYXRoLmZsb29yKChzdGFydFRlcm0gKyBpKSAvIDMpXG4gIHN0YXJ0VGVybSA9IChzdGFydFRlcm0gKyBpKSAlIDNcbiAgc3dpdGNoIHN0YXJ0VGVybVxuICAgIHdoZW4gMCB0aGVuIHN0YXJ0WWVhciArIFwiIFdpbnRlclwiXG4gICAgd2hlbiAxIHRoZW4gc3RhcnRZZWFyICsgXCIgU3ByaW5nXCJcbiAgICB3aGVuIDIgdGhlbiBzdGFydFllYXIgKyBcIiBGYWxsXCJcblxud2luZG93LmdldFRlcm1OYW1lQXJyYXkgPSAodGVybXNfb2ZmZXJlZCkgLT5cbiAgdGVybXNfb2ZmZXJlZC5tYXAgKGkpIC0+XG4gICAgc3dpdGNoIGlcbiAgICAgIHdoZW4gXCJGXCIgdGhlbiBcIkZhbGxcIlxuICAgICAgd2hlbiBcIldcIiB0aGVuIFwiV2ludGVyXCJcbiAgICAgIGVsc2UgXCJTcHJpbmdcIlxuXG5QcmV2aWV3ID0gUmVhY3QuY3JlYXRlQ2xhc3NcbiAgZ2V0SW5pdGlhbFN0YXRlOiAtPlxuICAgIHRvcDowXG4gICAgbGVmdDowXG4gICAgaHRtbDpcIlwiXG4gICAgc2hvdzpub1xuICBjb21wb25lbnREaWRNb3VudDogKCkgLT5cbiAgICAkKHdpbmRvdykub24gJ21vdXNlbW92ZScsIEBoYW5kbGVNb3VzZU1vdmVcbiAgICB3aW5kb3cuc2hvd1ByZXZpZXcgPSBAc2hvd1ByZXZpZXdcbiAgICB3aW5kb3cuc2hvd0NvdXJzZVByZXZpZXcgPSBAc2hvd0NvdXJzZVByZXZpZXdcbiAgICB3aW5kb3cuaGlkZVByZXZpZXcgPSBAaGlkZVByZXZpZXdcbiAgY29tcG9uZW50V2lsbFVubW91bnQ6ICgpIC0+XG4gICAgJCh3aW5kb3cpLm9mZiAnbW91c2Vtb3ZlJywgQGhhbmRsZU1vdXNlTW92ZVxuICBoYW5kbGVNb3VzZU1vdmU6KGUpLT5cbiAgICBpZiBAc3RhdGUuc2hvd1xuICAgICAgQHNldFN0YXRlXG4gICAgICAgIHRvcDplLmNsaWVudFkrMjBcbiAgICAgICAgbGVmdDplLmNsaWVudFgrMTVcbiAgc2hvd0NvdXJzZVByZXZpZXc6IChjb3Vyc2UpPT5cbiAgICBjb3Vyc2UgPSB1d2FwaS5nZXRJbmZvIGNvdXJzZVxuICAgIGh0bWwgPSBcbiAgICAgIGRpdihudWxsLFxuICAgICAgICBoMyhudWxsLFxuICAgICAgICAgIHN0cm9uZyhudWxsLCBjb3Vyc2UubmFtZSksXG4gICAgICAgICAgXCIgLSBcIixcbiAgICAgICAgICBjb3Vyc2UudGl0bGUpLFxuICAgICAgICBwKG51bGwsIGNvdXJzZS5kZXNjcmlwdGlvbilcbiAgICAgICAgcChudWxsLFxuICAgICAgICAgIHN0cm9uZyhudWxsLCBcIkFudGlyZXE6IFwiKSxcbiAgICAgICAgICBjb3Vyc2UuYW50aXJlcXVpc2l0ZXx8XCJub25lXCIpLFxuICAgICAgICBwKG51bGwsXG4gICAgICAgICAgc3Ryb25nKG51bGwsIFwiUHJlcmVxOiBcIiksXG4gICAgICAgICAgY291cnNlLnByZXJlcXVpc2l0ZXN8fFwibm9uZVwiKSxcbiAgICAgICAgcChudWxsLFxuICAgICAgICAgIHN0cm9uZyhudWxsLCBcIlRlcm1zIG9mZmVyZWQ6IFwiKSxcbiAgICAgICAgICBnZXRUZXJtTmFtZUFycmF5KGNvdXJzZS50ZXJtc19vZmZlcmVkKS5qb2luKFwiLCBcIikpKVxuICAgIEBzaG93UHJldmlldyBodG1sXG4gIHNob3dQcmV2aWV3OiAoZGF0YSkgLT5cbiAgICBAc2V0U3RhdGUgXG4gICAgICBodG1sOmRhdGFcbiAgICAgIHNob3c6eWVzXG4gIGhpZGVQcmV2aWV3OiAtPlxuICAgIEBzZXRTdGF0ZSBzaG93Om5vXG4gIHJlbmRlcjogLT5cbiAgICBkaXYoe1xuICAgICAgY2xhc3NOYW1lOiBcInByZXZpZXcgXCIrKGlmIEBzdGF0ZS5zaG93IHRoZW4gXCIgc2hvd1wiIGVsc2UgXCJcIilcbiAgICAgIHN0eWxlOlxuICAgICAgICB0b3A6QHN0YXRlLnRvcFxuICAgICAgICBsZWZ0OkBzdGF0ZS5sZWZ0XG4gICAgICB9LCBAc3RhdGUuaHRtbClcblxuJCgtPlxuICAkKCdib2R5JykuYXBwZW5kICQoXCI8ZGl2IGlkPSdwcmV2aWV3Jz48L2Rpdj5cIilcbiAgUmVhY3QucmVuZGVyQ29tcG9uZW50IFByZXZpZXcobnVsbCksICQoXCIjcHJldmlld1wiKS5nZXQoMClcbilcblxuIl19