(function() {
  var Preview, a, bold, button, div, h1, h2, h3, h4, h5, h6, icon, input, p, span, strong, table, tbody, td, th, thead, tr;

  a = function() {
    var _ref;
    return (_ref = React.DOM).a.apply(_ref, arguments);
  };

  bold = function() {
    var _ref;
    return (_ref = React.DOM).b.apply(_ref, arguments);
  };

  button = function() {
    var _ref;
    return (_ref = React.DOM).button.apply(_ref, arguments);
  };

  div = function() {
    var _ref;
    return (_ref = React.DOM).div.apply(_ref, arguments);
  };

  h1 = function() {
    var _ref;
    return (_ref = React.DOM).h1.apply(_ref, arguments);
  };

  h2 = function() {
    var _ref;
    return (_ref = React.DOM).h2.apply(_ref, arguments);
  };

  h3 = function() {
    var _ref;
    return (_ref = React.DOM).h3.apply(_ref, arguments);
  };

  h4 = function() {
    var _ref;
    return (_ref = React.DOM).h4.apply(_ref, arguments);
  };

  h5 = function() {
    var _ref;
    return (_ref = React.DOM).h5.apply(_ref, arguments);
  };

  h6 = function() {
    var _ref;
    return (_ref = React.DOM).h6.apply(_ref, arguments);
  };

  icon = function() {
    var _ref;
    return (_ref = React.DOM).i.apply(_ref, arguments);
  };

  input = function() {
    var _ref;
    return (_ref = React.DOM).input.apply(_ref, arguments);
  };

  p = function() {
    var _ref;
    return (_ref = React.DOM).p.apply(_ref, arguments);
  };

  span = function() {
    var _ref;
    return (_ref = React.DOM).span.apply(_ref, arguments);
  };

  table = function() {
    var _ref;
    return (_ref = React.DOM).table.apply(_ref, arguments);
  };

  tbody = function() {
    var _ref;
    return (_ref = React.DOM).tbody.apply(_ref, arguments);
  };

  td = function() {
    var _ref;
    return (_ref = React.DOM).td.apply(_ref, arguments);
  };

  th = function() {
    var _ref;
    return (_ref = React.DOM).th.apply(_ref, arguments);
  };

  thead = function() {
    var _ref;
    return (_ref = React.DOM).thead.apply(_ref, arguments);
  };

  tr = function() {
    var _ref;
    return (_ref = React.DOM).tr.apply(_ref, arguments);
  };

  strong = function() {
    var _ref;
    return (_ref = React.DOM).strong.apply(_ref, arguments);
  };

  window.facebookConnect = function() {
    F.connect($('#facebookForm').get(0));
    return false;
  };

  window.uwapi = {
    courseInfo: window.data.courseInfo || {},
    getCourse: function(subject, catalog_number, callback) {
      var course, that;
      course = {};
      that = this;
      return $.getJSON("/course/" + subject + "/" + catalog_number, function(course) {
        if (!course) {
          callback(null);
        }
        console.log(course);
        if (course.prerequisites && course.prerequisites.substr(0, 7) === "Prereq:") {
          course.prerequisites = course.prerequisites.substr(8);
        }
        course.name = getCourseName(course);
        that.courseInfo[course.name] = course;
        return callback(course.name);
      }).fail(function() {
        return callback(null);
      });
    },
    getInfo: function(course) {
      return this.courseInfo[getCourseName(course)];
    }
  };

  window.getCourseName = function(obj) {
    return obj.subject + obj.catalog_number;
  };

  window.calculateTerm = function(startYear, startTerm, i) {
    startYear = startYear + Math.floor((startTerm + i) / 3);
    startTerm = (startTerm + i) % 3;
    switch (startTerm) {
      case 0:
        return startYear + " Winter";
      case 1:
        return startYear + " Spring";
      case 2:
        return startYear + " Fall";
    }
  };

  window.getTermNameArray = function(terms_offered) {
    return terms_offered.map(function(i) {
      switch (i) {
        case "F":
          return "Fall";
        case "W":
          return "Winter";
        default:
          return "Spring";
      }
    });
  };

  Preview = React.createClass({
    getInitialState: function() {
      return {
        top: 0,
        left: 0,
        html: "",
        show: false
      };
    },
    componentDidMount: function() {
      $(window).on('mousemove', this.handleMouseMove);
      window.showPreview = this.showPreview;
      window.showCoursePreview = this.showCoursePreview;
      return window.hidePreview = this.hidePreview;
    },
    componentWillUnmount: function() {
      return $(window).off('mousemove', this.handleMouseMove);
    },
    handleMouseMove: function(e) {
      if (this.state.show) {
        return this.setState({
          top: e.clientY + 20,
          left: e.clientX + 15
        });
      }
    },
    showCoursePreview: (function(_this) {
      return function(course) {
        var html;
        course = uwapi.getInfo(course);
        html = div(null, h3(null, strong(null, course.name), " - ", course.title), p(null, course.description), p(null, strong(null, "Antireq: "), course.antirequisite || "none"), p(null, strong(null, "Prereq: "), course.prerequisites || "none"), p(null, strong(null, "Terms offered: "), getTermNameArray(course.terms_offered).join(", ")));
        return _this.showPreview(html);
      };
    })(this),
    showPreview: function(data) {
      return this.setState({
        html: data,
        show: true
      });
    },
    hidePreview: function() {
      return this.setState({
        show: false
      });
    },
    render: function() {
      return div({
        className: "preview " + (this.state.show ? " show" : ""),
        style: {
          top: this.state.top,
          left: this.state.left
        }
      }, this.state.html);
    }
  });

  $(function() {
    $('body').append($("<div id='preview'></div>"));
    return React.renderComponent(Preview(null), $("#preview").get(0));
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQSxvSEFBQTs7QUFBQSxFQUFBLENBQUEsR0FBSSxTQUFBLEdBQUE7QUFBRyxRQUFBLElBQUE7V0FBQSxRQUFBLEtBQUssQ0FBQyxHQUFOLENBQVMsQ0FBQyxDQUFWLGFBQVksU0FBWixFQUFIO0VBQUEsQ0FBSixDQUFBOztBQUFBLEVBQ0EsSUFBQSxHQUFPLFNBQUEsR0FBQTtBQUFHLFFBQUEsSUFBQTtXQUFBLFFBQUEsS0FBSyxDQUFDLEdBQU4sQ0FBUyxDQUFDLENBQVYsYUFBWSxTQUFaLEVBQUg7RUFBQSxDQURQLENBQUE7O0FBQUEsRUFFQSxNQUFBLEdBQVMsU0FBQSxHQUFBO0FBQUcsUUFBQSxJQUFBO1dBQUEsUUFBQSxLQUFLLENBQUMsR0FBTixDQUFTLENBQUMsTUFBVixhQUFpQixTQUFqQixFQUFIO0VBQUEsQ0FGVCxDQUFBOztBQUFBLEVBR0EsR0FBQSxHQUFNLFNBQUEsR0FBQTtBQUFHLFFBQUEsSUFBQTtXQUFBLFFBQUEsS0FBSyxDQUFDLEdBQU4sQ0FBUyxDQUFDLEdBQVYsYUFBYyxTQUFkLEVBQUg7RUFBQSxDQUhOLENBQUE7O0FBQUEsRUFJQSxFQUFBLEdBQUssU0FBQSxHQUFBO0FBQUcsUUFBQSxJQUFBO1dBQUEsUUFBQSxLQUFLLENBQUMsR0FBTixDQUFTLENBQUMsRUFBVixhQUFhLFNBQWIsRUFBSDtFQUFBLENBSkwsQ0FBQTs7QUFBQSxFQUtBLEVBQUEsR0FBSyxTQUFBLEdBQUE7QUFBRyxRQUFBLElBQUE7V0FBQSxRQUFBLEtBQUssQ0FBQyxHQUFOLENBQVMsQ0FBQyxFQUFWLGFBQWEsU0FBYixFQUFIO0VBQUEsQ0FMTCxDQUFBOztBQUFBLEVBTUEsRUFBQSxHQUFLLFNBQUEsR0FBQTtBQUFHLFFBQUEsSUFBQTtXQUFBLFFBQUEsS0FBSyxDQUFDLEdBQU4sQ0FBUyxDQUFDLEVBQVYsYUFBYSxTQUFiLEVBQUg7RUFBQSxDQU5MLENBQUE7O0FBQUEsRUFPQSxFQUFBLEdBQUssU0FBQSxHQUFBO0FBQUcsUUFBQSxJQUFBO1dBQUEsUUFBQSxLQUFLLENBQUMsR0FBTixDQUFTLENBQUMsRUFBVixhQUFhLFNBQWIsRUFBSDtFQUFBLENBUEwsQ0FBQTs7QUFBQSxFQVFBLEVBQUEsR0FBSyxTQUFBLEdBQUE7QUFBRyxRQUFBLElBQUE7V0FBQSxRQUFBLEtBQUssQ0FBQyxHQUFOLENBQVMsQ0FBQyxFQUFWLGFBQWEsU0FBYixFQUFIO0VBQUEsQ0FSTCxDQUFBOztBQUFBLEVBU0EsRUFBQSxHQUFLLFNBQUEsR0FBQTtBQUFHLFFBQUEsSUFBQTtXQUFBLFFBQUEsS0FBSyxDQUFDLEdBQU4sQ0FBUyxDQUFDLEVBQVYsYUFBYSxTQUFiLEVBQUg7RUFBQSxDQVRMLENBQUE7O0FBQUEsRUFVQSxJQUFBLEdBQU8sU0FBQSxHQUFBO0FBQUcsUUFBQSxJQUFBO1dBQUEsUUFBQSxLQUFLLENBQUMsR0FBTixDQUFTLENBQUMsQ0FBVixhQUFZLFNBQVosRUFBSDtFQUFBLENBVlAsQ0FBQTs7QUFBQSxFQVdBLEtBQUEsR0FBUSxTQUFBLEdBQUE7QUFBRyxRQUFBLElBQUE7V0FBQSxRQUFBLEtBQUssQ0FBQyxHQUFOLENBQVMsQ0FBQyxLQUFWLGFBQWdCLFNBQWhCLEVBQUg7RUFBQSxDQVhSLENBQUE7O0FBQUEsRUFZQSxDQUFBLEdBQUksU0FBQSxHQUFBO0FBQUcsUUFBQSxJQUFBO1dBQUEsUUFBQSxLQUFLLENBQUMsR0FBTixDQUFTLENBQUMsQ0FBVixhQUFZLFNBQVosRUFBSDtFQUFBLENBWkosQ0FBQTs7QUFBQSxFQWFBLElBQUEsR0FBTyxTQUFBLEdBQUE7QUFBRyxRQUFBLElBQUE7V0FBQSxRQUFBLEtBQUssQ0FBQyxHQUFOLENBQVMsQ0FBQyxJQUFWLGFBQWUsU0FBZixFQUFIO0VBQUEsQ0FiUCxDQUFBOztBQUFBLEVBY0EsS0FBQSxHQUFRLFNBQUEsR0FBQTtBQUFHLFFBQUEsSUFBQTtXQUFBLFFBQUEsS0FBSyxDQUFDLEdBQU4sQ0FBUyxDQUFDLEtBQVYsYUFBZ0IsU0FBaEIsRUFBSDtFQUFBLENBZFIsQ0FBQTs7QUFBQSxFQWVBLEtBQUEsR0FBUSxTQUFBLEdBQUE7QUFBRyxRQUFBLElBQUE7V0FBQSxRQUFBLEtBQUssQ0FBQyxHQUFOLENBQVMsQ0FBQyxLQUFWLGFBQWdCLFNBQWhCLEVBQUg7RUFBQSxDQWZSLENBQUE7O0FBQUEsRUFnQkEsRUFBQSxHQUFLLFNBQUEsR0FBQTtBQUFHLFFBQUEsSUFBQTtXQUFBLFFBQUEsS0FBSyxDQUFDLEdBQU4sQ0FBUyxDQUFDLEVBQVYsYUFBYSxTQUFiLEVBQUg7RUFBQSxDQWhCTCxDQUFBOztBQUFBLEVBaUJBLEVBQUEsR0FBSyxTQUFBLEdBQUE7QUFBRyxRQUFBLElBQUE7V0FBQSxRQUFBLEtBQUssQ0FBQyxHQUFOLENBQVMsQ0FBQyxFQUFWLGFBQWEsU0FBYixFQUFIO0VBQUEsQ0FqQkwsQ0FBQTs7QUFBQSxFQWtCQSxLQUFBLEdBQVEsU0FBQSxHQUFBO0FBQUcsUUFBQSxJQUFBO1dBQUEsUUFBQSxLQUFLLENBQUMsR0FBTixDQUFTLENBQUMsS0FBVixhQUFnQixTQUFoQixFQUFIO0VBQUEsQ0FsQlIsQ0FBQTs7QUFBQSxFQW1CQSxFQUFBLEdBQUssU0FBQSxHQUFBO0FBQUcsUUFBQSxJQUFBO1dBQUEsUUFBQSxLQUFLLENBQUMsR0FBTixDQUFTLENBQUMsRUFBVixhQUFhLFNBQWIsRUFBSDtFQUFBLENBbkJMLENBQUE7O0FBQUEsRUFvQkEsTUFBQSxHQUFTLFNBQUEsR0FBQTtBQUFHLFFBQUEsSUFBQTtXQUFBLFFBQUEsS0FBSyxDQUFDLEdBQU4sQ0FBUyxDQUFDLE1BQVYsYUFBaUIsU0FBakIsRUFBSDtFQUFBLENBcEJULENBQUE7O0FBQUEsRUFzQkEsTUFBTSxDQUFDLGVBQVAsR0FBeUIsU0FBQSxHQUFBO0FBQ3ZCLElBQUEsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFBLENBQUUsZUFBRixDQUFrQixDQUFDLEdBQW5CLENBQXVCLENBQXZCLENBQVYsQ0FBQSxDQUFBO1dBQ0EsTUFGdUI7RUFBQSxDQXRCekIsQ0FBQTs7QUFBQSxFQTBCQSxNQUFNLENBQUMsS0FBUCxHQUNFO0FBQUEsSUFBQSxVQUFBLEVBQVksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFaLElBQXdCLEVBQXBDO0FBQUEsSUFDQSxTQUFBLEVBQVcsU0FBQyxPQUFELEVBQVUsY0FBVixFQUEwQixRQUExQixHQUFBO0FBQ1QsVUFBQSxZQUFBO0FBQUEsTUFBQSxNQUFBLEdBQVMsRUFBVCxDQUFBO0FBQUEsTUFDQSxJQUFBLEdBQU8sSUFEUCxDQUFBO2FBRUEsQ0FBQyxDQUFDLE9BQUYsQ0FBVSxVQUFBLEdBQVcsT0FBWCxHQUFtQixHQUFuQixHQUF1QixjQUFqQyxFQUFpRCxTQUFDLE1BQUQsR0FBQTtBQUM3QyxRQUFBLElBQUcsQ0FBQSxNQUFIO0FBQ0UsVUFBQSxRQUFBLENBQVMsSUFBVCxDQUFBLENBREY7U0FBQTtBQUFBLFFBRUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFaLENBRkEsQ0FBQTtBQUdBLFFBQUEsSUFBRyxNQUFNLENBQUMsYUFBUCxJQUFzQixNQUFNLENBQUMsYUFBYSxDQUFDLE1BQXJCLENBQTRCLENBQTVCLEVBQThCLENBQTlCLENBQUEsS0FBa0MsU0FBM0Q7QUFDRSxVQUFBLE1BQU0sQ0FBQyxhQUFQLEdBQXFCLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBckIsQ0FBNEIsQ0FBNUIsQ0FBckIsQ0FERjtTQUhBO0FBQUEsUUFLQSxNQUFNLENBQUMsSUFBUCxHQUFZLGFBQUEsQ0FBYyxNQUFkLENBTFosQ0FBQTtBQUFBLFFBTUEsSUFBSSxDQUFDLFVBQVcsQ0FBQSxNQUFNLENBQUMsSUFBUCxDQUFoQixHQUE2QixNQU43QixDQUFBO2VBT0EsUUFBQSxDQUFTLE1BQU0sQ0FBQyxJQUFoQixFQVI2QztNQUFBLENBQWpELENBU0MsQ0FBQyxJQVRGLENBU08sU0FBQSxHQUFBO2VBQUcsUUFBQSxDQUFTLElBQVQsRUFBSDtNQUFBLENBVFAsRUFIUztJQUFBLENBRFg7QUFBQSxJQWNBLE9BQUEsRUFBUyxTQUFDLE1BQUQsR0FBQTthQUNQLElBQUMsQ0FBQSxVQUFXLENBQUEsYUFBQSxDQUFjLE1BQWQsQ0FBQSxFQURMO0lBQUEsQ0FkVDtHQTNCRixDQUFBOztBQUFBLEVBNENBLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLFNBQUMsR0FBRCxHQUFBO1dBQ3JCLEdBQUcsQ0FBQyxPQUFKLEdBQWMsR0FBRyxDQUFDLGVBREc7RUFBQSxDQTVDdkIsQ0FBQTs7QUFBQSxFQStDQSxNQUFNLENBQUMsYUFBUCxHQUF1QixTQUFDLFNBQUQsRUFBWSxTQUFaLEVBQXVCLENBQXZCLEdBQUE7QUFDckIsSUFBQSxTQUFBLEdBQVksU0FBQSxHQUFZLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBQyxTQUFBLEdBQVksQ0FBYixDQUFBLEdBQWtCLENBQTdCLENBQXhCLENBQUE7QUFBQSxJQUNBLFNBQUEsR0FBWSxDQUFDLFNBQUEsR0FBWSxDQUFiLENBQUEsR0FBa0IsQ0FEOUIsQ0FBQTtBQUVBLFlBQU8sU0FBUDtBQUFBLFdBQ08sQ0FEUDtlQUNjLFNBQUEsR0FBWSxVQUQxQjtBQUFBLFdBRU8sQ0FGUDtlQUVjLFNBQUEsR0FBWSxVQUYxQjtBQUFBLFdBR08sQ0FIUDtlQUdjLFNBQUEsR0FBWSxRQUgxQjtBQUFBLEtBSHFCO0VBQUEsQ0EvQ3ZCLENBQUE7O0FBQUEsRUF1REEsTUFBTSxDQUFDLGdCQUFQLEdBQTBCLFNBQUMsYUFBRCxHQUFBO1dBQ3hCLGFBQWEsQ0FBQyxHQUFkLENBQWtCLFNBQUMsQ0FBRCxHQUFBO0FBQ2hCLGNBQU8sQ0FBUDtBQUFBLGFBQ08sR0FEUDtpQkFDZ0IsT0FEaEI7QUFBQSxhQUVPLEdBRlA7aUJBRWdCLFNBRmhCO0FBQUE7aUJBR08sU0FIUDtBQUFBLE9BRGdCO0lBQUEsQ0FBbEIsRUFEd0I7RUFBQSxDQXZEMUIsQ0FBQTs7QUFBQSxFQThEQSxPQUFBLEdBQVUsS0FBSyxDQUFDLFdBQU4sQ0FDUjtBQUFBLElBQUEsZUFBQSxFQUFpQixTQUFBLEdBQUE7YUFDZjtBQUFBLFFBQUEsR0FBQSxFQUFJLENBQUo7QUFBQSxRQUNBLElBQUEsRUFBSyxDQURMO0FBQUEsUUFFQSxJQUFBLEVBQUssRUFGTDtBQUFBLFFBR0EsSUFBQSxFQUFLLEtBSEw7UUFEZTtJQUFBLENBQWpCO0FBQUEsSUFLQSxpQkFBQSxFQUFtQixTQUFBLEdBQUE7QUFDakIsTUFBQSxDQUFBLENBQUUsTUFBRixDQUFTLENBQUMsRUFBVixDQUFhLFdBQWIsRUFBMEIsSUFBQyxDQUFBLGVBQTNCLENBQUEsQ0FBQTtBQUFBLE1BQ0EsTUFBTSxDQUFDLFdBQVAsR0FBcUIsSUFBQyxDQUFBLFdBRHRCLENBQUE7QUFBQSxNQUVBLE1BQU0sQ0FBQyxpQkFBUCxHQUEyQixJQUFDLENBQUEsaUJBRjVCLENBQUE7YUFHQSxNQUFNLENBQUMsV0FBUCxHQUFxQixJQUFDLENBQUEsWUFKTDtJQUFBLENBTG5CO0FBQUEsSUFVQSxvQkFBQSxFQUFzQixTQUFBLEdBQUE7YUFDcEIsQ0FBQSxDQUFFLE1BQUYsQ0FBUyxDQUFDLEdBQVYsQ0FBYyxXQUFkLEVBQTJCLElBQUMsQ0FBQSxlQUE1QixFQURvQjtJQUFBLENBVnRCO0FBQUEsSUFZQSxlQUFBLEVBQWdCLFNBQUMsQ0FBRCxHQUFBO0FBQ2QsTUFBQSxJQUFHLElBQUMsQ0FBQSxLQUFLLENBQUMsSUFBVjtlQUNFLElBQUMsQ0FBQSxRQUFELENBQ0U7QUFBQSxVQUFBLEdBQUEsRUFBSSxDQUFDLENBQUMsT0FBRixHQUFVLEVBQWQ7QUFBQSxVQUNBLElBQUEsRUFBSyxDQUFDLENBQUMsT0FBRixHQUFVLEVBRGY7U0FERixFQURGO09BRGM7SUFBQSxDQVpoQjtBQUFBLElBaUJBLGlCQUFBLEVBQW1CLENBQUEsU0FBQSxLQUFBLEdBQUE7YUFBQSxTQUFDLE1BQUQsR0FBQTtBQUNqQixZQUFBLElBQUE7QUFBQSxRQUFBLE1BQUEsR0FBUyxLQUFLLENBQUMsT0FBTixDQUFjLE1BQWQsQ0FBVCxDQUFBO0FBQUEsUUFDQSxJQUFBLEdBQ0UsR0FBQSxDQUFJLElBQUosRUFDRSxFQUFBLENBQUcsSUFBSCxFQUNFLE1BQUEsQ0FBTyxJQUFQLEVBQWEsTUFBTSxDQUFDLElBQXBCLENBREYsRUFFRSxLQUZGLEVBR0UsTUFBTSxDQUFDLEtBSFQsQ0FERixFQUtFLENBQUEsQ0FBRSxJQUFGLEVBQVEsTUFBTSxDQUFDLFdBQWYsQ0FMRixFQU1FLENBQUEsQ0FBRSxJQUFGLEVBQ0UsTUFBQSxDQUFPLElBQVAsRUFBYSxXQUFiLENBREYsRUFFRSxNQUFNLENBQUMsYUFBUCxJQUFzQixNQUZ4QixDQU5GLEVBU0UsQ0FBQSxDQUFFLElBQUYsRUFDRSxNQUFBLENBQU8sSUFBUCxFQUFhLFVBQWIsQ0FERixFQUVFLE1BQU0sQ0FBQyxhQUFQLElBQXNCLE1BRnhCLENBVEYsRUFZRSxDQUFBLENBQUUsSUFBRixFQUNFLE1BQUEsQ0FBTyxJQUFQLEVBQWEsaUJBQWIsQ0FERixFQUVFLGdCQUFBLENBQWlCLE1BQU0sQ0FBQyxhQUF4QixDQUFzQyxDQUFDLElBQXZDLENBQTRDLElBQTVDLENBRkYsQ0FaRixDQUZGLENBQUE7ZUFpQkEsS0FBQyxDQUFBLFdBQUQsQ0FBYSxJQUFiLEVBbEJpQjtNQUFBLEVBQUE7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBakJuQjtBQUFBLElBb0NBLFdBQUEsRUFBYSxTQUFDLElBQUQsR0FBQTthQUNYLElBQUMsQ0FBQSxRQUFELENBQ0U7QUFBQSxRQUFBLElBQUEsRUFBSyxJQUFMO0FBQUEsUUFDQSxJQUFBLEVBQUssSUFETDtPQURGLEVBRFc7SUFBQSxDQXBDYjtBQUFBLElBd0NBLFdBQUEsRUFBYSxTQUFBLEdBQUE7YUFDWCxJQUFDLENBQUEsUUFBRCxDQUFVO0FBQUEsUUFBQSxJQUFBLEVBQUssS0FBTDtPQUFWLEVBRFc7SUFBQSxDQXhDYjtBQUFBLElBMENBLE1BQUEsRUFBUSxTQUFBLEdBQUE7YUFDTixHQUFBLENBQUk7QUFBQSxRQUNGLFNBQUEsRUFBVyxVQUFBLEdBQVcsQ0FBSSxJQUFDLENBQUEsS0FBSyxDQUFDLElBQVYsR0FBb0IsT0FBcEIsR0FBaUMsRUFBbEMsQ0FEcEI7QUFBQSxRQUVGLEtBQUEsRUFDRTtBQUFBLFVBQUEsR0FBQSxFQUFJLElBQUMsQ0FBQSxLQUFLLENBQUMsR0FBWDtBQUFBLFVBQ0EsSUFBQSxFQUFLLElBQUMsQ0FBQSxLQUFLLENBQUMsSUFEWjtTQUhBO09BQUosRUFLSyxJQUFDLENBQUEsS0FBSyxDQUFDLElBTFosRUFETTtJQUFBLENBMUNSO0dBRFEsQ0E5RFYsQ0FBQTs7QUFBQSxFQWlIQSxDQUFBLENBQUUsU0FBQSxHQUFBO0FBQ0EsSUFBQSxDQUFBLENBQUUsTUFBRixDQUFTLENBQUMsTUFBVixDQUFpQixDQUFBLENBQUUsMEJBQUYsQ0FBakIsQ0FBQSxDQUFBO1dBQ0EsS0FBSyxDQUFDLGVBQU4sQ0FBc0IsT0FBQSxDQUFRLElBQVIsQ0FBdEIsRUFBcUMsQ0FBQSxDQUFFLFVBQUYsQ0FBYSxDQUFDLEdBQWQsQ0FBa0IsQ0FBbEIsQ0FBckMsRUFGQTtFQUFBLENBQUYsQ0FqSEEsQ0FBQTtBQUFBIiwiZmlsZSI6ImhlbHBlcnMuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJhID0gLT4gUmVhY3QuRE9NLmEgYXJndW1lbnRzLi4uXG5ib2xkID0gLT4gUmVhY3QuRE9NLmIgYXJndW1lbnRzLi4uXG5idXR0b24gPSAtPiBSZWFjdC5ET00uYnV0dG9uIGFyZ3VtZW50cy4uLlxuZGl2ID0gLT4gUmVhY3QuRE9NLmRpdiBhcmd1bWVudHMuLi5cbmgxID0gLT4gUmVhY3QuRE9NLmgxIGFyZ3VtZW50cy4uLlxuaDIgPSAtPiBSZWFjdC5ET00uaDIgYXJndW1lbnRzLi4uXG5oMyA9IC0+IFJlYWN0LkRPTS5oMyBhcmd1bWVudHMuLi5cbmg0ID0gLT4gUmVhY3QuRE9NLmg0IGFyZ3VtZW50cy4uLlxuaDUgPSAtPiBSZWFjdC5ET00uaDUgYXJndW1lbnRzLi4uXG5oNiA9IC0+IFJlYWN0LkRPTS5oNiBhcmd1bWVudHMuLi5cbmljb24gPSAtPiBSZWFjdC5ET00uaSBhcmd1bWVudHMuLi5cbmlucHV0ID0gLT4gUmVhY3QuRE9NLmlucHV0IGFyZ3VtZW50cy4uLlxucCA9IC0+IFJlYWN0LkRPTS5wIGFyZ3VtZW50cy4uLlxuc3BhbiA9IC0+IFJlYWN0LkRPTS5zcGFuIGFyZ3VtZW50cy4uLlxudGFibGUgPSAtPiBSZWFjdC5ET00udGFibGUgYXJndW1lbnRzLi4uXG50Ym9keSA9IC0+IFJlYWN0LkRPTS50Ym9keSBhcmd1bWVudHMuLi5cbnRkID0gLT4gUmVhY3QuRE9NLnRkIGFyZ3VtZW50cy4uLlxudGggPSAtPiBSZWFjdC5ET00udGggYXJndW1lbnRzLi4uXG50aGVhZCA9IC0+IFJlYWN0LkRPTS50aGVhZCBhcmd1bWVudHMuLi5cbnRyID0gLT4gUmVhY3QuRE9NLnRyIGFyZ3VtZW50cy4uLlxuc3Ryb25nID0gLT4gUmVhY3QuRE9NLnN0cm9uZyBhcmd1bWVudHMuLi5cblxud2luZG93LmZhY2Vib29rQ29ubmVjdCA9IC0+XG4gIEYuY29ubmVjdCAkKCcjZmFjZWJvb2tGb3JtJykuZ2V0KDApXG4gIGZhbHNlXG5cbndpbmRvdy51d2FwaSA9IFxuICBjb3Vyc2VJbmZvOiB3aW5kb3cuZGF0YS5jb3Vyc2VJbmZvfHx7fSxcbiAgZ2V0Q291cnNlOiAoc3ViamVjdCwgY2F0YWxvZ19udW1iZXIsIGNhbGxiYWNrKS0+XG4gICAgY291cnNlID0ge31cbiAgICB0aGF0ID0gdGhpc1xuICAgICQuZ2V0SlNPTihcIi9jb3Vyc2UvXCIrc3ViamVjdCtcIi9cIitjYXRhbG9nX251bWJlciwgKGNvdXJzZSktPlxuICAgICAgICBpZiBub3QgY291cnNlXG4gICAgICAgICAgY2FsbGJhY2sobnVsbClcbiAgICAgICAgY29uc29sZS5sb2cgY291cnNlXG4gICAgICAgIGlmIGNvdXJzZS5wcmVyZXF1aXNpdGVzJiZjb3Vyc2UucHJlcmVxdWlzaXRlcy5zdWJzdHIoMCw3KT09XCJQcmVyZXE6XCJcbiAgICAgICAgICBjb3Vyc2UucHJlcmVxdWlzaXRlcz1jb3Vyc2UucHJlcmVxdWlzaXRlcy5zdWJzdHIoOClcbiAgICAgICAgY291cnNlLm5hbWU9Z2V0Q291cnNlTmFtZShjb3Vyc2UpXG4gICAgICAgIHRoYXQuY291cnNlSW5mb1tjb3Vyc2UubmFtZV09Y291cnNlXG4gICAgICAgIGNhbGxiYWNrKGNvdXJzZS5uYW1lKVxuICAgICkuZmFpbCgtPiBjYWxsYmFjayhudWxsKSlcbiAgZ2V0SW5mbzogKGNvdXJzZSktPlxuICAgIEBjb3Vyc2VJbmZvW2dldENvdXJzZU5hbWUoY291cnNlKV1cblxud2luZG93LmdldENvdXJzZU5hbWUgPSAob2JqKSAtPiBcbiAgb2JqLnN1YmplY3QgKyBvYmouY2F0YWxvZ19udW1iZXJcblxud2luZG93LmNhbGN1bGF0ZVRlcm0gPSAoc3RhcnRZZWFyLCBzdGFydFRlcm0sIGkpIC0+XG4gIHN0YXJ0WWVhciA9IHN0YXJ0WWVhciArIE1hdGguZmxvb3IoKHN0YXJ0VGVybSArIGkpIC8gMylcbiAgc3RhcnRUZXJtID0gKHN0YXJ0VGVybSArIGkpICUgM1xuICBzd2l0Y2ggc3RhcnRUZXJtXG4gICAgd2hlbiAwIHRoZW4gc3RhcnRZZWFyICsgXCIgV2ludGVyXCJcbiAgICB3aGVuIDEgdGhlbiBzdGFydFllYXIgKyBcIiBTcHJpbmdcIlxuICAgIHdoZW4gMiB0aGVuIHN0YXJ0WWVhciArIFwiIEZhbGxcIlxuXG53aW5kb3cuZ2V0VGVybU5hbWVBcnJheSA9ICh0ZXJtc19vZmZlcmVkKSAtPlxuICB0ZXJtc19vZmZlcmVkLm1hcCAoaSkgLT5cbiAgICBzd2l0Y2ggaVxuICAgICAgd2hlbiBcIkZcIiB0aGVuIFwiRmFsbFwiXG4gICAgICB3aGVuIFwiV1wiIHRoZW4gXCJXaW50ZXJcIlxuICAgICAgZWxzZSBcIlNwcmluZ1wiXG5cblByZXZpZXcgPSBSZWFjdC5jcmVhdGVDbGFzc1xuICBnZXRJbml0aWFsU3RhdGU6IC0+XG4gICAgdG9wOjBcbiAgICBsZWZ0OjBcbiAgICBodG1sOlwiXCJcbiAgICBzaG93Om5vXG4gIGNvbXBvbmVudERpZE1vdW50OiAoKSAtPlxuICAgICQod2luZG93KS5vbiAnbW91c2Vtb3ZlJywgQGhhbmRsZU1vdXNlTW92ZVxuICAgIHdpbmRvdy5zaG93UHJldmlldyA9IEBzaG93UHJldmlld1xuICAgIHdpbmRvdy5zaG93Q291cnNlUHJldmlldyA9IEBzaG93Q291cnNlUHJldmlld1xuICAgIHdpbmRvdy5oaWRlUHJldmlldyA9IEBoaWRlUHJldmlld1xuICBjb21wb25lbnRXaWxsVW5tb3VudDogKCkgLT5cbiAgICAkKHdpbmRvdykub2ZmICdtb3VzZW1vdmUnLCBAaGFuZGxlTW91c2VNb3ZlXG4gIGhhbmRsZU1vdXNlTW92ZTooZSktPlxuICAgIGlmIEBzdGF0ZS5zaG93XG4gICAgICBAc2V0U3RhdGVcbiAgICAgICAgdG9wOmUuY2xpZW50WSsyMFxuICAgICAgICBsZWZ0OmUuY2xpZW50WCsxNVxuICBzaG93Q291cnNlUHJldmlldzogKGNvdXJzZSk9PlxuICAgIGNvdXJzZSA9IHV3YXBpLmdldEluZm8gY291cnNlXG4gICAgaHRtbCA9IFxuICAgICAgZGl2KG51bGwsXG4gICAgICAgIGgzKG51bGwsXG4gICAgICAgICAgc3Ryb25nKG51bGwsIGNvdXJzZS5uYW1lKSxcbiAgICAgICAgICBcIiAtIFwiLFxuICAgICAgICAgIGNvdXJzZS50aXRsZSksXG4gICAgICAgIHAobnVsbCwgY291cnNlLmRlc2NyaXB0aW9uKVxuICAgICAgICBwKG51bGwsXG4gICAgICAgICAgc3Ryb25nKG51bGwsIFwiQW50aXJlcTogXCIpLFxuICAgICAgICAgIGNvdXJzZS5hbnRpcmVxdWlzaXRlfHxcIm5vbmVcIiksXG4gICAgICAgIHAobnVsbCxcbiAgICAgICAgICBzdHJvbmcobnVsbCwgXCJQcmVyZXE6IFwiKSxcbiAgICAgICAgICBjb3Vyc2UucHJlcmVxdWlzaXRlc3x8XCJub25lXCIpLFxuICAgICAgICBwKG51bGwsXG4gICAgICAgICAgc3Ryb25nKG51bGwsIFwiVGVybXMgb2ZmZXJlZDogXCIpLFxuICAgICAgICAgIGdldFRlcm1OYW1lQXJyYXkoY291cnNlLnRlcm1zX29mZmVyZWQpLmpvaW4oXCIsIFwiKSkpXG4gICAgQHNob3dQcmV2aWV3IGh0bWxcbiAgc2hvd1ByZXZpZXc6IChkYXRhKSAtPlxuICAgIEBzZXRTdGF0ZSBcbiAgICAgIGh0bWw6ZGF0YVxuICAgICAgc2hvdzp5ZXNcbiAgaGlkZVByZXZpZXc6IC0+XG4gICAgQHNldFN0YXRlIHNob3c6bm9cbiAgcmVuZGVyOiAtPlxuICAgIGRpdih7XG4gICAgICBjbGFzc05hbWU6IFwicHJldmlldyBcIisoaWYgQHN0YXRlLnNob3cgdGhlbiBcIiBzaG93XCIgZWxzZSBcIlwiKVxuICAgICAgc3R5bGU6XG4gICAgICAgIHRvcDpAc3RhdGUudG9wXG4gICAgICAgIGxlZnQ6QHN0YXRlLmxlZnRcbiAgICAgIH0sIEBzdGF0ZS5odG1sKVxuXG4kKC0+XG4gICQoJ2JvZHknKS5hcHBlbmQgJChcIjxkaXYgaWQ9J3ByZXZpZXcnPjwvZGl2PlwiKVxuICBSZWFjdC5yZW5kZXJDb21wb25lbnQgUHJldmlldyhudWxsKSwgJChcIiNwcmV2aWV3XCIpLmdldCgwKVxuKVxuXG4iXX0=