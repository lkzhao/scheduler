(function() {
  var Preview, a, bold, button, div, h1, h2, h3, h4, h5, h6, icon, input, p, span, strong, table, tbody, td, th, thead, tr;

  a = function() {
    var _ref;
    return (_ref = React.DOM).a.apply(_ref, arguments);
  };

  bold = function() {
    var _ref;
    return (_ref = React.DOM).b.apply(_ref, arguments);
  };

  button = function() {
    var _ref;
    return (_ref = React.DOM).button.apply(_ref, arguments);
  };

  div = function() {
    var _ref;
    return (_ref = React.DOM).div.apply(_ref, arguments);
  };

  h1 = function() {
    var _ref;
    return (_ref = React.DOM).h1.apply(_ref, arguments);
  };

  h2 = function() {
    var _ref;
    return (_ref = React.DOM).h2.apply(_ref, arguments);
  };

  h3 = function() {
    var _ref;
    return (_ref = React.DOM).h3.apply(_ref, arguments);
  };

  h4 = function() {
    var _ref;
    return (_ref = React.DOM).h4.apply(_ref, arguments);
  };

  h5 = function() {
    var _ref;
    return (_ref = React.DOM).h5.apply(_ref, arguments);
  };

  h6 = function() {
    var _ref;
    return (_ref = React.DOM).h6.apply(_ref, arguments);
  };

  icon = function() {
    var _ref;
    return (_ref = React.DOM).i.apply(_ref, arguments);
  };

  input = function() {
    var _ref;
    return (_ref = React.DOM).input.apply(_ref, arguments);
  };

  p = function() {
    var _ref;
    return (_ref = React.DOM).p.apply(_ref, arguments);
  };

  span = function() {
    var _ref;
    return (_ref = React.DOM).span.apply(_ref, arguments);
  };

  table = function() {
    var _ref;
    return (_ref = React.DOM).table.apply(_ref, arguments);
  };

  tbody = function() {
    var _ref;
    return (_ref = React.DOM).tbody.apply(_ref, arguments);
  };

  td = function() {
    var _ref;
    return (_ref = React.DOM).td.apply(_ref, arguments);
  };

  th = function() {
    var _ref;
    return (_ref = React.DOM).th.apply(_ref, arguments);
  };

  thead = function() {
    var _ref;
    return (_ref = React.DOM).thead.apply(_ref, arguments);
  };

  tr = function() {
    var _ref;
    return (_ref = React.DOM).tr.apply(_ref, arguments);
  };

  strong = function() {
    var _ref;
    return (_ref = React.DOM).strong.apply(_ref, arguments);
  };

  window.facebookConnect = function() {
    F.connect($('#facebookForm').get(0));
    return false;
  };

  window.uwapi = {
    courseInfo: window.data.courseInfo || {},
    getCourse: function(subject, catalog_number, callback) {
      var course, that;
      course = {};
      that = this;
      return $.getJSON("/course/" + subject + "/" + catalog_number, function(course) {
        if (!course) {
          callback(null);
        }
        console.log(course);
        if (course.prerequisites && course.prerequisites.substr(0, 7) === "Prereq:") {
          course.prerequisites = course.prerequisites.substr(8);
        }
        course.name = getCourseName(course);
        that.courseInfo[course.name] = course;
        return callback(course.name);
      }).fail(function() {
        return callback(null);
      });
    },
    getInfo: function(course) {
      return this.courseInfo[getCourseName(course)];
    }
  };

  window.getCourseName = function(obj) {
    return obj.subject + obj.catalog_number;
  };

  window.calculateTerm = function(startYear, startTerm, i) {
    startYear = startYear + Math.floor((startTerm + i) / 3);
    startTerm = (startTerm + i) % 3;
    switch (startTerm) {
      case 0:
        return startYear + " Winter";
      case 1:
        return startYear + " Spring";
      case 2:
        return startYear + " Fall";
    }
  };

  window.getTermNameArray = function(terms_offered) {
    return terms_offered.map(function(i) {
      switch (i) {
        case "F":
          return "Fall";
        case "W":
          return "Winter";
        default:
          return "Spring";
      }
    });
  };

  window.EditLabel = React.createClass({
    getInitialState: function() {
      return {
        loading: false,
        text: this.props.initialValue
      };
    },
    handleChange: function(e) {
      return this.setState({
        text: e.target.value
      });
    },
    endEdit: function(e) {
      this.setState({
        loading: true
      });
      return $.ajax({
        url: "/save/" + data.coursePlanId + "/",
        type: "post",
        dataType: "json",
        data: {
          name: this.state.text,
          csrfmiddlewaretoken: data.csrf_token
        },
        success: (function(_this) {
          return function(json) {
            if (json.success) {
              return _this.setState({
                loading: false
              });
            } else {
              return alert("Failed to save");
            }
          };
        })(this),
        error: (function(_this) {
          return function() {
            return alert("Failed to save");
          };
        })(this)
      });
    },
    render: function() {
      var inputProp;
      inputProp = {
        ref: "input",
        className: "form-control editlabel",
        value: this.state.text,
        onChange: this.handleChange,
        onBlur: this.endEdit
      };
      if (this.state.loading) {
        inputProp.disabled = true;
      }
      return input(inputProp);
    }
  });

  Preview = React.createClass({
    getInitialState: function() {
      return {
        top: 0,
        left: 0,
        html: "",
        show: false
      };
    },
    componentDidMount: function() {
      $(window).on('mousemove', this.handleMouseMove);
      window.showPreview = this.showPreview;
      window.showCoursePreview = this.showCoursePreview;
      return window.hidePreview = this.hidePreview;
    },
    componentWillUnmount: function() {
      return $(window).off('mousemove', this.handleMouseMove);
    },
    handleMouseMove: function(e) {
      if (this.state.show) {
        return this.setState({
          top: e.clientY + 20,
          left: e.clientX + 15
        });
      }
    },
    showCoursePreview: (function(_this) {
      return function(course) {
        var html;
        course = uwapi.getInfo(course);
        html = div(null, h3(null, strong(null, course.name), " - ", course.title), p(null, course.description), p(null, strong(null, "Antireq: "), course.antirequisite || "none"), p(null, strong(null, "Prereq: "), course.prerequisites || "none"), p(null, strong(null, "Terms offered: "), getTermNameArray(course.terms_offered).join(", ")));
        return _this.showPreview(html);
      };
    })(this),
    showPreview: function(data) {
      return this.setState({
        html: data,
        show: true
      });
    },
    hidePreview: function() {
      return this.setState({
        show: false
      });
    },
    render: function() {
      return div({
        className: "preview " + (this.state.show ? " show" : ""),
        style: {
          top: this.state.top,
          left: this.state.left
        }
      }, this.state.html);
    }
  });

  $(function() {
    $('body').append($("<div id='preview'></div>"));
    return React.renderComponent(Preview(null), $("#preview").get(0));
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,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ZmlsZSI6ImhlbHBlcnMuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJhID0gLT4gUmVhY3QuRE9NLmEgYXJndW1lbnRzLi4uXG5ib2xkID0gLT4gUmVhY3QuRE9NLmIgYXJndW1lbnRzLi4uXG5idXR0b24gPSAtPiBSZWFjdC5ET00uYnV0dG9uIGFyZ3VtZW50cy4uLlxuZGl2ID0gLT4gUmVhY3QuRE9NLmRpdiBhcmd1bWVudHMuLi5cbmgxID0gLT4gUmVhY3QuRE9NLmgxIGFyZ3VtZW50cy4uLlxuaDIgPSAtPiBSZWFjdC5ET00uaDIgYXJndW1lbnRzLi4uXG5oMyA9IC0+IFJlYWN0LkRPTS5oMyBhcmd1bWVudHMuLi5cbmg0ID0gLT4gUmVhY3QuRE9NLmg0IGFyZ3VtZW50cy4uLlxuaDUgPSAtPiBSZWFjdC5ET00uaDUgYXJndW1lbnRzLi4uXG5oNiA9IC0+IFJlYWN0LkRPTS5oNiBhcmd1bWVudHMuLi5cbmljb24gPSAtPiBSZWFjdC5ET00uaSBhcmd1bWVudHMuLi5cbmlucHV0ID0gLT4gUmVhY3QuRE9NLmlucHV0IGFyZ3VtZW50cy4uLlxucCA9IC0+IFJlYWN0LkRPTS5wIGFyZ3VtZW50cy4uLlxuc3BhbiA9IC0+IFJlYWN0LkRPTS5zcGFuIGFyZ3VtZW50cy4uLlxudGFibGUgPSAtPiBSZWFjdC5ET00udGFibGUgYXJndW1lbnRzLi4uXG50Ym9keSA9IC0+IFJlYWN0LkRPTS50Ym9keSBhcmd1bWVudHMuLi5cbnRkID0gLT4gUmVhY3QuRE9NLnRkIGFyZ3VtZW50cy4uLlxudGggPSAtPiBSZWFjdC5ET00udGggYXJndW1lbnRzLi4uXG50aGVhZCA9IC0+IFJlYWN0LkRPTS50aGVhZCBhcmd1bWVudHMuLi5cbnRyID0gLT4gUmVhY3QuRE9NLnRyIGFyZ3VtZW50cy4uLlxuc3Ryb25nID0gLT4gUmVhY3QuRE9NLnN0cm9uZyBhcmd1bWVudHMuLi5cblxud2luZG93LmZhY2Vib29rQ29ubmVjdCA9IC0+XG4gIEYuY29ubmVjdCAkKCcjZmFjZWJvb2tGb3JtJykuZ2V0KDApXG4gIGZhbHNlXG5cbndpbmRvdy51d2FwaSA9IFxuICBjb3Vyc2VJbmZvOiB3aW5kb3cuZGF0YS5jb3Vyc2VJbmZvfHx7fSxcbiAgZ2V0Q291cnNlOiAoc3ViamVjdCwgY2F0YWxvZ19udW1iZXIsIGNhbGxiYWNrKS0+XG4gICAgY291cnNlID0ge31cbiAgICB0aGF0ID0gdGhpc1xuICAgICQuZ2V0SlNPTihcIi9jb3Vyc2UvXCIrc3ViamVjdCtcIi9cIitjYXRhbG9nX251bWJlciwgKGNvdXJzZSktPlxuICAgICAgICBpZiBub3QgY291cnNlXG4gICAgICAgICAgY2FsbGJhY2sobnVsbClcbiAgICAgICAgY29uc29sZS5sb2cgY291cnNlXG4gICAgICAgIGlmIGNvdXJzZS5wcmVyZXF1aXNpdGVzJiZjb3Vyc2UucHJlcmVxdWlzaXRlcy5zdWJzdHIoMCw3KT09XCJQcmVyZXE6XCJcbiAgICAgICAgICBjb3Vyc2UucHJlcmVxdWlzaXRlcz1jb3Vyc2UucHJlcmVxdWlzaXRlcy5zdWJzdHIoOClcbiAgICAgICAgY291cnNlLm5hbWU9Z2V0Q291cnNlTmFtZShjb3Vyc2UpXG4gICAgICAgIHRoYXQuY291cnNlSW5mb1tjb3Vyc2UubmFtZV09Y291cnNlXG4gICAgICAgIGNhbGxiYWNrKGNvdXJzZS5uYW1lKVxuICAgICkuZmFpbCgtPiBjYWxsYmFjayhudWxsKSlcbiAgZ2V0SW5mbzogKGNvdXJzZSktPlxuICAgIEBjb3Vyc2VJbmZvW2dldENvdXJzZU5hbWUoY291cnNlKV1cblxud2luZG93LmdldENvdXJzZU5hbWUgPSAob2JqKSAtPiBcbiAgb2JqLnN1YmplY3QgKyBvYmouY2F0YWxvZ19udW1iZXJcblxud2luZG93LmNhbGN1bGF0ZVRlcm0gPSAoc3RhcnRZZWFyLCBzdGFydFRlcm0sIGkpIC0+XG4gIHN0YXJ0WWVhciA9IHN0YXJ0WWVhciArIE1hdGguZmxvb3IoKHN0YXJ0VGVybSArIGkpIC8gMylcbiAgc3RhcnRUZXJtID0gKHN0YXJ0VGVybSArIGkpICUgM1xuICBzd2l0Y2ggc3RhcnRUZXJtXG4gICAgd2hlbiAwIHRoZW4gc3RhcnRZZWFyICsgXCIgV2ludGVyXCJcbiAgICB3aGVuIDEgdGhlbiBzdGFydFllYXIgKyBcIiBTcHJpbmdcIlxuICAgIHdoZW4gMiB0aGVuIHN0YXJ0WWVhciArIFwiIEZhbGxcIlxuXG53aW5kb3cuZ2V0VGVybU5hbWVBcnJheSA9ICh0ZXJtc19vZmZlcmVkKSAtPlxuICB0ZXJtc19vZmZlcmVkLm1hcCAoaSkgLT5cbiAgICBzd2l0Y2ggaVxuICAgICAgd2hlbiBcIkZcIiB0aGVuIFwiRmFsbFwiXG4gICAgICB3aGVuIFwiV1wiIHRoZW4gXCJXaW50ZXJcIlxuICAgICAgZWxzZSBcIlNwcmluZ1wiXG5cblxud2luZG93LkVkaXRMYWJlbCA9IFJlYWN0LmNyZWF0ZUNsYXNzXG4gIGdldEluaXRpYWxTdGF0ZTogLT5cbiAgICBsb2FkaW5nOm5vXG4gICAgdGV4dDpAcHJvcHMuaW5pdGlhbFZhbHVlXG4gIGhhbmRsZUNoYW5nZTogKGUpIC0+XG4gICAgQHNldFN0YXRlIHRleHQ6IGUudGFyZ2V0LnZhbHVlXG4gIGVuZEVkaXQ6IChlKSAtPlxuICAgIEBzZXRTdGF0ZVxuICAgICAgbG9hZGluZzogeWVzXG4gICAgJC5hamF4XG4gICAgICB1cmw6XCIvc2F2ZS9cIitkYXRhLmNvdXJzZVBsYW5JZCtcIi9cIlxuICAgICAgdHlwZTpcInBvc3RcIlxuICAgICAgZGF0YVR5cGU6XCJqc29uXCJcbiAgICAgIGRhdGE6XG4gICAgICAgIG5hbWU6QHN0YXRlLnRleHQsXG4gICAgICAgIGNzcmZtaWRkbGV3YXJldG9rZW46ZGF0YS5jc3JmX3Rva2VuXG4gICAgICBzdWNjZXNzOihqc29uKT0+XG4gICAgICAgIGlmKGpzb24uc3VjY2VzcylcbiAgICAgICAgICBAc2V0U3RhdGUgbG9hZGluZzpub1xuICAgICAgICBlbHNlXG4gICAgICAgICAgYWxlcnQoXCJGYWlsZWQgdG8gc2F2ZVwiKVxuICAgICAgZXJyb3I6KCk9PlxuICAgICAgICBhbGVydChcIkZhaWxlZCB0byBzYXZlXCIpXG4gIHJlbmRlcjogLT5cbiAgICBpbnB1dFByb3AgPVxuICAgICAgcmVmOiBcImlucHV0XCJcbiAgICAgIGNsYXNzTmFtZTpcImZvcm0tY29udHJvbCBlZGl0bGFiZWxcIlxuICAgICAgdmFsdWU6QHN0YXRlLnRleHRcbiAgICAgIG9uQ2hhbmdlOkBoYW5kbGVDaGFuZ2VcbiAgICAgIG9uQmx1cjpAZW5kRWRpdFxuICAgIGlmIEBzdGF0ZS5sb2FkaW5nXG4gICAgICBpbnB1dFByb3AuZGlzYWJsZWQgPSB5ZXNcbiAgICBpbnB1dChpbnB1dFByb3ApXG5cblxuUHJldmlldyA9IFJlYWN0LmNyZWF0ZUNsYXNzXG4gIGdldEluaXRpYWxTdGF0ZTogLT5cbiAgICB0b3A6MFxuICAgIGxlZnQ6MFxuICAgIGh0bWw6XCJcIlxuICAgIHNob3c6bm9cbiAgY29tcG9uZW50RGlkTW91bnQ6ICgpIC0+XG4gICAgJCh3aW5kb3cpLm9uICdtb3VzZW1vdmUnLCBAaGFuZGxlTW91c2VNb3ZlXG4gICAgd2luZG93LnNob3dQcmV2aWV3ID0gQHNob3dQcmV2aWV3XG4gICAgd2luZG93LnNob3dDb3Vyc2VQcmV2aWV3ID0gQHNob3dDb3Vyc2VQcmV2aWV3XG4gICAgd2luZG93LmhpZGVQcmV2aWV3ID0gQGhpZGVQcmV2aWV3XG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiAoKSAtPlxuICAgICQod2luZG93KS5vZmYgJ21vdXNlbW92ZScsIEBoYW5kbGVNb3VzZU1vdmVcbiAgaGFuZGxlTW91c2VNb3ZlOihlKS0+XG4gICAgaWYgQHN0YXRlLnNob3dcbiAgICAgIEBzZXRTdGF0ZVxuICAgICAgICB0b3A6ZS5jbGllbnRZKzIwXG4gICAgICAgIGxlZnQ6ZS5jbGllbnRYKzE1XG4gIHNob3dDb3Vyc2VQcmV2aWV3OiAoY291cnNlKT0+XG4gICAgY291cnNlID0gdXdhcGkuZ2V0SW5mbyBjb3Vyc2VcbiAgICBodG1sID0gXG4gICAgICBkaXYobnVsbCxcbiAgICAgICAgaDMobnVsbCxcbiAgICAgICAgICBzdHJvbmcobnVsbCwgY291cnNlLm5hbWUpLFxuICAgICAgICAgIFwiIC0gXCIsXG4gICAgICAgICAgY291cnNlLnRpdGxlKSxcbiAgICAgICAgcChudWxsLCBjb3Vyc2UuZGVzY3JpcHRpb24pXG4gICAgICAgIHAobnVsbCxcbiAgICAgICAgICBzdHJvbmcobnVsbCwgXCJBbnRpcmVxOiBcIiksXG4gICAgICAgICAgY291cnNlLmFudGlyZXF1aXNpdGV8fFwibm9uZVwiKSxcbiAgICAgICAgcChudWxsLFxuICAgICAgICAgIHN0cm9uZyhudWxsLCBcIlByZXJlcTogXCIpLFxuICAgICAgICAgIGNvdXJzZS5wcmVyZXF1aXNpdGVzfHxcIm5vbmVcIiksXG4gICAgICAgIHAobnVsbCxcbiAgICAgICAgICBzdHJvbmcobnVsbCwgXCJUZXJtcyBvZmZlcmVkOiBcIiksXG4gICAgICAgICAgZ2V0VGVybU5hbWVBcnJheShjb3Vyc2UudGVybXNfb2ZmZXJlZCkuam9pbihcIiwgXCIpKSlcbiAgICBAc2hvd1ByZXZpZXcgaHRtbFxuICBzaG93UHJldmlldzogKGRhdGEpIC0+XG4gICAgQHNldFN0YXRlIFxuICAgICAgaHRtbDpkYXRhXG4gICAgICBzaG93Onllc1xuICBoaWRlUHJldmlldzogLT5cbiAgICBAc2V0U3RhdGUgc2hvdzpub1xuICByZW5kZXI6IC0+XG4gICAgZGl2KHtcbiAgICAgIGNsYXNzTmFtZTogXCJwcmV2aWV3IFwiKyhpZiBAc3RhdGUuc2hvdyB0aGVuIFwiIHNob3dcIiBlbHNlIFwiXCIpXG4gICAgICBzdHlsZTpcbiAgICAgICAgdG9wOkBzdGF0ZS50b3BcbiAgICAgICAgbGVmdDpAc3RhdGUubGVmdFxuICAgICAgfSwgQHN0YXRlLmh0bWwpXG5cbiQoLT5cbiAgJCgnYm9keScpLmFwcGVuZCAkKFwiPGRpdiBpZD0ncHJldmlldyc+PC9kaXY+XCIpXG4gIFJlYWN0LnJlbmRlckNvbXBvbmVudCBQcmV2aWV3KG51bGwpLCAkKFwiI3ByZXZpZXdcIikuZ2V0KDApXG4pXG5cbiJdfQ==