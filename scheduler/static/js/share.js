(function(){var e,t,n,r,a,u,i,o,s,c,l,p,f,h,v,m,w,d,g,M,y,R,D,O,P,b,C;n=function(){var e;return(e=React.DOM).a.apply(e,arguments)},r=function(){var e;return(e=React.DOM).b.apply(e,arguments)},a=function(){var e;return(e=React.DOM).button.apply(e,arguments)},i=function(){var e;return(e=React.DOM).div.apply(e,arguments)},c=function(){var e;return(e=React.DOM).h1.apply(e,arguments)},l=function(){var e;return(e=React.DOM).h2.apply(e,arguments)},p=function(){var e;return(e=React.DOM).h3.apply(e,arguments)},f=function(){var e;return(e=React.DOM).h4.apply(e,arguments)},h=function(){var e;return(e=React.DOM).h5.apply(e,arguments)},v=function(){var e;return(e=React.DOM).h6.apply(e,arguments)},m=function(){var e;return(e=React.DOM).i.apply(e,arguments)},w=function(){var e;return(e=React.DOM).input.apply(e,arguments)},d=function(){var e;return(e=React.DOM).p.apply(e,arguments)},g=function(){var e;return(e=React.DOM).span.apply(e,arguments)},y=function(){var e;return(e=React.DOM).table.apply(e,arguments)},R=function(){var e;return(e=React.DOM).tbody.apply(e,arguments)},D=function(){var e;return(e=React.DOM).td.apply(e,arguments)},O=function(){var e;return(e=React.DOM).th.apply(e,arguments)},P=function(){var e;return(e=React.DOM).thead.apply(e,arguments)},b=function(){var e;return(e=React.DOM).tr.apply(e,arguments)},M=function(){var e;return(e=React.DOM).strong.apply(e,arguments)},C={courseInfo:window.data.courseInfo||{},getCourse:function(e,t,n){var r,a;return r={},a=this,$.getJSON("/course/"+e+"/"+t,function(e){return e||n(null),console.log(e),e.prerequisites&&"Prereq:"===e.prerequisites.substr(0,7)&&(e.prerequisites=e.prerequisites.substr(8)),e.name=o(e),a.courseInfo[e.name]=e,n(e.name)}).fail(function(){return n(null)})},getInfo:function(e){return this.courseInfo[o(e)]}},o=function(e){return e.subject+e.catalog_number},u=function(e,t,n){switch(e+=Math.floor((t+n)/3),t=(t+n)%3){case 0:return e+" Winter";case 1:return e+" Spring";case 2:return e+" Fall"}},s=function(e){return e.map(function(e){switch(e){case"F":return"Fall";case"W":return"Winter";default:return"Spring"}})},e=React.createClass({getInitialState:function(){return{top:0,left:0,html:"",show:!1}},componentDidMount:function(){return $(window).on("mousemove",this.handleMouseMove),window.showPreview=this.showPreview,window.showCoursePreview=this.showCoursePreview,window.hidePreview=this.hidePreview},componentWillUnmount:function(){return $(window).off("mousemove",this.handleMouseMove)},handleMouseMove:function(e){return this.state.show?this.setState({top:e.clientY+20,left:e.clientX+15}):void 0},showCoursePreview:function(e){return function(t){var n;return t=C.getInfo(t),n=i(null,p(null,M(null,t.name)," - ",t.title),d(null,t.description),d(null,M(null,"Antireq: "),t.antirequisite||"none"),d(null,M(null,"Prereq: "),t.prerequisites||"none"),d(null,M(null,"Terms offered: "),s(t.terms_offered).join(", "))),e.showPreview(n)}}(this),showPreview:function(e){return this.setState({html:e,show:!0})},hidePreview:function(){return this.setState({show:!1})},render:function(){return i({className:"preview "+(this.state.show?" show":""),style:{top:this.state.top,left:this.state.left}},this.state.html)}}),$(function(){return $("body").append($("<div id='preview'></div>")),React.renderComponent(e(null),$("#preview").get(0))}),t=React.createClass({showPreview:function(e){return window.showCoursePreview(e)},hidePreview:function(){return window.hidePreview()},render:function(){var e;return e=data.schedule.map(function(e){return function(t,n){var r,a;return a=u(data.startYear,data.startTerm,n),r=t.courses.map(function(t,n){var r;return r=C.getInfo(t),i({className:"course",onMouseEnter:e.showPreview.bind(e,t),onMouseLeave:e.hidePreview},name(r))}),i({className:"panel panel-default"},i({className:"panel-heading"},p({className:"panel-title"},a)),i({className:"panel-body"},r))}}(this)),i({className:"paper"},l({className:"page-header"},""+data.user.name+"'s Course Schedule"),e)}}),$(function(){return React.renderComponent(t(null),$("#main").get(0))})}).call(this);