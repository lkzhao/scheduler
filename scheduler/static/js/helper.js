var Preview,a,bold,button,calculateTerm,div,getCourseName,getTermNameArray,h1,h2,h3,h4,h5,h6,icon,input,p,span,strong,table,tbody,td,th,thead,tr,uwapi;a=function(){var e;return(e=React.DOM).a.apply(e,arguments)},bold=function(){var e;return(e=React.DOM).b.apply(e,arguments)},button=function(){var e;return(e=React.DOM).button.apply(e,arguments)},div=function(){var e;return(e=React.DOM).div.apply(e,arguments)},h1=function(){var e;return(e=React.DOM).h1.apply(e,arguments)},h2=function(){var e;return(e=React.DOM).h2.apply(e,arguments)},h3=function(){var e;return(e=React.DOM).h3.apply(e,arguments)},h4=function(){var e;return(e=React.DOM).h4.apply(e,arguments)},h5=function(){var e;return(e=React.DOM).h5.apply(e,arguments)},h6=function(){var e;return(e=React.DOM).h6.apply(e,arguments)},icon=function(){var e;return(e=React.DOM).i.apply(e,arguments)},input=function(){var e;return(e=React.DOM).input.apply(e,arguments)},p=function(){var e;return(e=React.DOM).p.apply(e,arguments)},span=function(){var e;return(e=React.DOM).span.apply(e,arguments)},table=function(){var e;return(e=React.DOM).table.apply(e,arguments)},tbody=function(){var e;return(e=React.DOM).tbody.apply(e,arguments)},td=function(){var e;return(e=React.DOM).td.apply(e,arguments)},th=function(){var e;return(e=React.DOM).th.apply(e,arguments)},thead=function(){var e;return(e=React.DOM).thead.apply(e,arguments)},tr=function(){var e;return(e=React.DOM).tr.apply(e,arguments)},strong=function(){var e;return(e=React.DOM).strong.apply(e,arguments)},uwapi={courseInfo:window.data.courseInfo||{},getCourse:function(e,t,n){var r,u;return r={},u=this,$.getJSON("/course/"+e+"/"+t,function(e){return e||n(null),console.log(e),e.prerequisites&&"Prereq:"===e.prerequisites.substr(0,7)&&(e.prerequisites=e.prerequisites.substr(8)),e.name=getCourseName(e),u.courseInfo[e.name]=e,n(e.name)}).fail(function(){return n(null)})},getInfo:function(e){return this.courseInfo[getCourseName(e)]}},getCourseName=function(e){return e.subject+e.catalog_number},calculateTerm=function(e,t,n){switch(e+=Math.floor((t+n)/3),t=(t+n)%3){case 0:return e+" Winter";case 1:return e+" Spring";case 2:return e+" Fall"}},getTermNameArray=function(e){return e.map(function(e){switch(e){case"F":return"Fall";case"W":return"Winter";default:return"Spring"}})},Preview=React.createClass({getInitialState:function(){return{top:0,left:0,html:"",show:!1}},componentDidMount:function(){return $(window).on("mousemove",this.handleMouseMove),window.showPreview=this.showPreview,window.showCoursePreview=this.showCoursePreview,window.hidePreview=this.hidePreview},componentWillUnmount:function(){return $(window).off("mousemove",this.handleMouseMove)},handleMouseMove:function(e){return this.state.show?this.setState({top:e.clientY+20,left:e.clientX+15}):void 0},showCoursePreview:function(e){return function(t){var n;return t=uwapi.getInfo(t),n=div(null,h3(null,strong(null,t.name)," - ",t.title),p(null,t.description),p(null,strong(null,"Antireq: "),t.antirequisite||"none"),p(null,strong(null,"Prereq: "),t.prerequisites||"none"),p(null,strong(null,"Terms offered: "),getTermNameArray(t.terms_offered).join(", "))),e.showPreview(n)}}(this),showPreview:function(e){return this.setState({html:e,show:!0})},hidePreview:function(){return this.setState({show:!1})},render:function(){return div({className:"preview "+(this.state.show?" show":""),style:{top:this.state.top,left:this.state.left}},this.state.html)}}),$(function(){return $("body").append($("<div id='preview'></div>")),React.renderComponent(Preview(null),$("#preview").get(0))});