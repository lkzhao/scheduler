%html{lang:"en"}
  %head
    %title UWScheduler
    %link{:href => "{{STATIC_URL}}css/font-awesome.min.css", :rel => "stylesheet"}
    %link{:href => "{{STATIC_URL}}css/pe-icon-7-stroke.css", :rel => "stylesheet"}
    - block css
    %script{:src => "{{STATIC_URL}}js/lib/jquery-2.0.3.min.js"}
    %script{:src => "{{STATIC_URL}}js/lib/bootstrap.min.js"}
    %script{:src => "{{STATIC_URL}}js/lib/moment.min.js"}
    %script{:src => "{{STATIC_URL}}js/lib/react/react-with-addons.js"}
    %script{:src => "{{STATIC_URL}}js/lib/react/JSXTransformer.js"}
  %body
    %nav.navbar.navbar-default.navbar-fixed-top
      .container
        .navbar-header
          %a.navbar-brand{:href => "/"} 
            UW Course Scheduler
          %button.navbar-toggle{:data-toggle => "collapse", :data-target => "#navbar-collapse"}
            %i.fa.fa-bars
        #navbar-collapse.collapse.navbar-collapse
            #searchBtnWrapper
            %ul.nav.navbar-nav.navbar-right
              -block navbar-right
              - if user.pk
                %li.dropdown
                  %a{:data-toggle => "dropdown", :href => "#"}
                    %img.profile-pic{:src => "{%if user.image%}{{user.image.url}}{%else%}/static/images/no-profile.jpg{%endif%}"}
                    -if user.first_name
                      = user.first_name
                      = user.last_name
                    -else
                      = user.username
                    %b.caret
                  %ul.dropdown-menu
                    - if user.is_superuser
                      %li
                        %a#admin-btn{:href => "/admin"}
                          Admin
                      %li.divider
                    %li
                      %a{:href => "/accounts/logout"}
                        Logout
    - if errors
      - for error in errors
        .alert.alert-danger
          = error
    - block body
      %nav
        .brand
          UW Course Scheduler
      - block main

    - block js
      :javascript
        window.data={
          courseInfo: {},
        }
        window.allSubjects={{allSubjects|safe}}
      %script{:src => "{{STATIC_URL}}js/basic.js", :type => "text/javascript"}