- extends "base.haml"
- block css
  %link{:href => "{{STATIC_URL}}css/edit.css", :type => "text/css", :rel => "stylesheet"}
- block js
  %script{:src => "{{STATIC_URL}}js/helper.js", :type => "text/javascript"}
  %script{:src => "{{STATIC_URL}}js/searchInput.js", :type => "text/jsx"}
  %script{:src => "{{STATIC_URL}}js/edit.js", :type => "text/jsx"}


- block body
  %nav.navbar.navbar-default.navbar-fixed-top
    .container
      .navbar-header
        .navbar-brand
          UW Course Scheduler
        %button.navbar-toggle{:data-toggle => "collapse", :data-target => "#navbar-collapse"}
          %i.fa.fa-bars
      #navbar-collapse.collapse.navbar-collapse
          #searchBtnWrapper
          %ul.nav.navbar-nav.navbar-right
            %li.dropdown
              %a{:data-toggle => "dropdown", :href => "#"}
                %img.profile-pic{:src => "{%if user.image%}{{user.image.url}}{%else%}static/images/no-profile.jpg{%endif%}"}
                -if user.first_name
                  = user.first_name
                  = user.last_name
                -else
                  = user.username
                %b.caret
              %ul.dropdown-menu
                - if user.is_superuser
                  %li
                    %a#admin-btn{:href => "/admin"}
                      Admin
                  %li.divider
                %li
                  %a{:href => "/accounts/logout"}
                    Logout
  - if errors
    - for error in errors
      .alert.alert-danger
        = error
  #main
  :javascript
    data={
      csrf_token: "{{csrf_token}}",
      coursePlanId: {{coursePlanId|safe}},
      courseInfo: {{courseInfo|safe}},
      schedule: {{schedule|safe}},
      courseList: {{courseList|safe}},
      startYear: {{startYear|safe}},
      startTerm: {{startTerm|safe}},
      autoSave: {{user.profile.autosave|lower}},
    }
    window.data=data
    window.allSubjects={{allSubjects|safe}}
